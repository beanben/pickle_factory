<app-loan-modal 
    *ngIf="openLoanModal"
    [loan]="loanSelected"
    (modalSaveLoan)="onSave($event)">
</app-loan-modal>

<div class="container-fluid vh-100">
    <div class="row">
        <div class="col-3 px-0 bg-white vh-100 me-1 d-flex flex-column">

            <div class="d-flex justify-content-between py-3 mx-1">
                <span class="nav-title my-auto">Loans</span>
                <button type="button" class="btn" (click)="isCollapsed = true">
                    <img src="{{arrowLeftBlack}}" class="" alt="">
                </button>
            </div>

            <div class="pb-3 mx-1">
                <button type="button" class="btn btn-primary " (click)="onOpenCreate()">New</button>
            </div>
            
            <div class="overflow-auto flex-grow-1">
                <ul class="px-0">
                    <li  *ngFor="let loan of loans; let i = index" class="mx-1">
                        <div class="p-1 border border-info rounded mb-2 d-flex align-items-center justify-content-between"
                            (click)="onLoanSelected(i)"
                            [ngClass]="{'loan-selected': loan.id == loanSelected.id}"
                            style="height: 50px">
                            <span>{{loan.name}}</span>
                            <app-edit (onOpenModalEdit)="openLoanModal = true"></app-edit>
                        </div>
                    </li>
                </ul>
            </div>
            
            
            
        </div>
        <div class="col p-0">
            <nav class="navbar navbar-light navbar-expand-lg bg-white">
                <div class="d-flex flex-column">
                    <div class="p-2 nav-title bg-white">{{loanSelected.name}}</div>
            
                    <div class="d-flex justify-content-between">
                        <ul class="list-group list-group-horizontal">
                            <li class="p-2">Loan details</li>
                            <li class="p-2">Property</li>
                            <li class="p-2">Loan management</li>
                            <li class="p-2">Financials</li>
                        </ul>
                    </div>
                    
                </div>
            </nav>
        </div>
    </div>
</div>

