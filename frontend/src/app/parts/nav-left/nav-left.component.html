<app-profile *ngIf="openPopup" (onClosePopup)="closePopup()" [user]="user"></app-profile>

 <div class="d-flex flex-column text-white h-100">

  <div class="p-2 mb-2" (click)="stakeholders_is_active = false">
    <a routerLink="/" class="text-white text-decoration-none d-flex">
      <img src="{{logoWhite}}" alt=""><h3 class="my-auto fw-bold">Pickle</h3>
    </a>
  </div>

  <div class="p-2 flex-grow-1">
    <ul class="p-0 text-white">
      <li [ngClass]="homeRoute.isActive ? 'bg-highlight': ''">
        <a 
          routerLink="/" 
          routerLinkActive=active 
          [routerLinkActiveOptions]="{ exact: true }" 
          #homeRoute="routerLinkActive" 
          style="text-decoration: none;" class="text-white">
          <img src="{{house}}" alt="">Home
        </a>
      </li>

      <li [ngClass]="{'bg-highlight': loanRoute.isActive}">
        <a routerLink="loans" routerLinkActive=active #loanRoute="routerLinkActive" style="text-decoration: none;" class="text-white">
          <img src="{{dollar}}" alt="">Loans
        </a>    
      </li>

      <li class="text-disabled"><img src="{{chart}}" alt="">Fund manager</li>

      <li style="cursor: pointer">
        <span (click)="is_expanded = !is_expanded" >
          <img src="{{person}}" alt="">Stakeholders 
          <span class="filter-white" >
            <img *ngIf="!is_expanded" src="{{arrowDown}}" alt="" >
            <img *ngIf="is_expanded" src="{{arrowUp}}" alt="">
          </span>
        </span>
  
        <ng-container *ngIf="is_expanded">
          <ul style="list-style: none" class="px-0">
            <li class="ps-4 text-disabled">Lenders</li>

            <li class="ps-4" [ngClass]="{'bg-highlight': borrowerRoute.isActive}">
              <a routerLink="borrower" routerLinkActive=active #borrowerRoute="routerLinkActive" style="text-decoration: none;" class="text-white">
                Borrower
              </a>    
            </li>

            <li class="ps-4 text-disabled">Panel</li>
          </ul>
        </ng-container>
      </li>

    </ul>
  </div>

  <div class="p-2 mb-4">
    <hr class="light-grey">
    <span style="cursor: pointer" class="d-flex align-items-center profile" (click)="onOpenPopup()" style="cursor: pointer" [ngClass]="{'bg-highlight': openPopup}">

        <span class="dot me-2 color-pickle text-center my-auto">
          <ng-container *ngIf="!!user.first_name">
            <p class="p-0 my-auto"></p>{{user.first_name | initial}}
          </ng-container>
        </span>

        <span>Profile</span>
    </span>
  </div>

</div>


  